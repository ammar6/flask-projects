{% extends "layout.html" %} {% block main_content %}
<h1>Movies</h1>

<h3>Popular: {{ term }}</h3>

<div>
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">Movie ID</th>
        <th scope="col">Title</th>
        <th scope="col">Description</th>
        <th scope="col">Year</th>
        <th scope="col">Category</th>
        <th scope="col">Add to Watchlist</th>
      </tr>
    </thead>
    <tbody>
      {% for movie in movies_data %}
      <tr>
        <td scope="row">{{ movie['movie_id'] }}</td>
        <td>{{ movie['title'] }}</td>
        <td>{{ movie['description'] }}</td>
        <td>{{ movie['year'] }}</td>
        <td>{{ movie['category'] }}</td>
        <td>
          <form action="{{ url_for('watchlist') }}" method="POST">
            <input
              type="hidden"
              name="movie_id"
              value="{{ movie['movie_id'] }}"
            />
            <input type="hidden" name="title" value="{{ movie['title'] }}" />
            <input type="hidden" name="term" value="{{ movie['term'] }}" />

            <button>Add to Watchlist</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
